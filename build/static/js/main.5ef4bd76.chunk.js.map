{"version":3,"sources":["services/contact.js","phonebook/Phonebook.js","App.js","index.js"],"names":["baseURL","contact","getAllContact","axios","get","then","res","data","addContact","contactObj","post","deleteContact","id","delete","response","updateContact","updatedData","put","Phonebook","useState","contacts","setContacts","setContact","number","setNumber","deleteAlert","setDeleteAlert","createAlert","setCreateAlert","useEffect","contactService","DeleteNotification","message","className","CreateNotification","onSubmit","event","preventDefault","name","exists","filter","person","toLowerCase","length","concat","setTimeout","window","confirm","map","type","autoFocus","onChange","target","value","maxLength","i","onClick","deleteObj","find","item","catch","handleDeleteContact","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5ef4bd76.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL = \"/api/persons\";\r\n// const baseURL = \"https://thawing-wave-71967.herokuapp.com/api/persons\";\r\n\r\nconst getAllContact = () => {\r\n  const res = axios.get(baseURL).then((res) => res.data);\r\n  return res;\r\n};\r\n\r\nconst addContact = (contactObj) => {\r\n  const res = axios.post(baseURL, contactObj);\r\n  return res.then((res) => res.data);\r\n};\r\n\r\nconst deleteContact = (id) => {\r\n  const res = axios.delete(`${baseURL}/${id}`);\r\n  return res.then((response) => response.data);\r\n};\r\n\r\nconst updateContact = (id, updatedData) => {\r\n  const res = axios.put(`${baseURL}/${id}`, updatedData);\r\n  return res.then((response) => response.data);\r\n};\r\n\r\nconst contact = {\r\n  getAllContact,\r\n  addContact,\r\n  deleteContact,\r\n  updateContact,\r\n};\r\n\r\nexport default contact;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./phonebook.css\";\r\nimport contactService from \"../services/contact\";\r\n\r\nconst Phonebook = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [contact, setContact] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [deleteAlert, setDeleteAlert] = useState(null);\r\n  const [createAlert, setCreateAlert] = useState(null);\r\n\r\n  useEffect(() => {\r\n    contactService.getAllContact().then((data) => {\r\n      setContacts(data);\r\n    });\r\n  }, []);\r\n\r\n  const handleAddContact = (event) => {\r\n    event.preventDefault();\r\n    const contactObj = { name: contact, number: number };\r\n\r\n    let exists = contacts.filter(\r\n      (person) => person.name.toLowerCase() === contactObj.name.toLowerCase()\r\n    );\r\n\r\n    if (exists.length === 0) {\r\n      if (contact !== \"\" && number !== \"\") {\r\n        setContacts(contacts.concat(contactObj));\r\n      }\r\n\r\n      if (contact !== \"\" && number !== \"\") {\r\n        contactService.addContact(contactObj).then((data) => {\r\n          setContacts(contacts.concat(data));\r\n          setCreateAlert(`Contact \"${contactObj.name}\" added successfully`);\r\n          setTimeout(() => {\r\n            setCreateAlert(null);\r\n          }, 5000);\r\n        });\r\n      }\r\n    } else {\r\n      if (\r\n        window.confirm(\r\n          `The contact with name ${contactObj.name} already exists do you want to replace it?`\r\n        )\r\n      ) {\r\n        contactService\r\n          .updateContact(exists[0].id, contactObj)\r\n          .then((data) =>\r\n            setContacts(contacts.map((person) => (person.name !== contactObj.name ? person : data)))\r\n          );\r\n      }\r\n    }\r\n\r\n    setContact(\"\");\r\n    setNumber(\"\");\r\n  };\r\n\r\n  const handleDeleteContact = (id) => {\r\n    const deleteObj = contacts.find((person) => person.id === id);\r\n    if (window.confirm(`do you really want to delete ${deleteObj.name}`))\r\n      contactService\r\n        .deleteContact(id)\r\n        .then(() => {\r\n          setContacts(contacts.filter((item) => item.id !== id));\r\n          setDeleteAlert(`${deleteObj.name} deleted successfully`);\r\n        })\r\n        .catch(() => {\r\n          setDeleteAlert(`unable to delete, the user  is already deleted from the server`);\r\n        });\r\n\r\n    setTimeout(() => {\r\n      setDeleteAlert(null);\r\n    }, 5000);\r\n  };\r\n\r\n  const DeleteNotification = ({ message }) => {\r\n    if (!message) return null;\r\n    return (\r\n      <div className=\"error\">\r\n        <p>{message}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const CreateNotification = ({ message }) => {\r\n    if (!message) return null;\r\n    return (\r\n      <div className=\"success\">\r\n        <p>{message}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setContact(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNumber(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"phonebook\">\r\n      <h1>Phonebook</h1>\r\n      <DeleteNotification message={deleteAlert} />\r\n      <CreateNotification message={createAlert} />\r\n      <form onSubmit={handleAddContact}>\r\n        <p>\r\n          Name <input type=\"text\" autoFocus onChange={handleNameChange} value={contact} />\r\n        </p>\r\n        <p>\r\n          Number <input type=\"text\" maxLength=\"10\" onChange={handleNumberChange} value={number} />\r\n        </p>\r\n        <button>add</button>\r\n      </form>\r\n\r\n      <ul>\r\n        {contacts.map((person, i) => (\r\n          <li key={i}>\r\n            <p>\r\n              {person.name} {person.number}\r\n              &nbsp;&nbsp;<button onClick={() => handleDeleteContact(person.id)}>delete</button>\r\n            </p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phonebook;\r\n","import React from \"react\";\nimport \"./App.css\";\n// import Note from \"./notes/Note\";\nimport Phonebook from \"./phonebook/Phonebook\";\n\nconst App = () => {\n  return (\n    <>\n      {/* <Note /> */}\n      <Phonebook />\n    </>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}